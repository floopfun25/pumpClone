<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FloppFun - Türkçe Test Sayfası</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .test-success { @apply bg-green-100 border-green-400 text-green-700; }
        .test-error { @apply bg-red-100 border-red-400 text-red-700; }
        .test-loading { @apply bg-yellow-100 border-yellow-400 text-yellow-700; }
        .test-pending { @apply bg-gray-100 border-gray-400 text-gray-700; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-blue-600 mb-2">🚀 FloppFun Test Merkezi</h1>
            <p class="text-gray-600">Türk ekip arkadaşları için kapsamlı test arayüzü</p>
            <div class="mt-4 p-4 bg-blue-50 rounded-lg">
                <p class="text-sm text-blue-800">
                    📍 <strong>Ana Uygulama:</strong> 
                    <a href="http://localhost:3003/pumpClone/" target="_blank" class="underline">
                        http://localhost:3003/pumpClone/
                    </a>
                </p>
            </div>
        </div>

        <!-- Quick Status Dashboard -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
            <div class="bg-white p-4 rounded-lg shadow border-l-4 border-blue-500">
                <h3 class="font-semibold text-gray-800">Uygulama Durumu</h3>
                <div id="app-status" class="test-pending border rounded p-2 mt-2">Test Edilmedi</div>
            </div>
            <div class="bg-white p-4 rounded-lg shadow border-l-4 border-green-500">
                <h3 class="font-semibold text-gray-800">API Durumu</h3>
                <div id="api-status" class="test-pending border rounded p-2 mt-2">Test Edilmedi</div>
            </div>
            <div class="bg-white p-4 rounded-lg shadow border-l-4 border-purple-500">
                <h3 class="font-semibold text-gray-800">Cüzdan Durumu</h3>
                <div id="wallet-status" class="test-pending border rounded p-2 mt-2">Test Edilmedi</div>
            </div>
            <div class="bg-white p-4 rounded-lg shadow border-l-4 border-orange-500">
                <h3 class="font-semibold text-gray-800">Fiyat Durumu</h3>
                <div id="price-status" class="test-pending border rounded p-2 mt-2">Test Edilmedi</div>
            </div>
        </div>

        <!-- Main Test Sections -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            
            <!-- Section 1: Basic Tests -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">📱 Temel Uygulama Testleri</h2>
                
                <div class="space-y-4">
                    <button onclick="testAppAccess()" 
                            class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded">
                        🏠 Ana Sayfa Erişim Testi
                    </button>
                    
                    <button onclick="testPageNavigation()" 
                            class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded">
                        🧭 Sayfa Navigasyon Testi
                    </button>
                    
                    <button onclick="testMobileView()" 
                            class="w-full bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-4 rounded">
                        📱 Mobil Görünüm Testi
                    </button>
                    
                    <button onclick="testThemeToggle()" 
                            class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded">
                        🌙 Tema Değiştirme Testi
                    </button>
                </div>

                <div id="basic-test-results" class="mt-4"></div>
            </div>

            <!-- Section 2: API & Price Tests -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">💰 Fiyat ve API Testleri</h2>
                
                <div class="space-y-4">
                    <button onclick="testSOLPrice()" 
                            class="w-full bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-4 rounded">
                        ₿ SOL Fiyat Testi (CoinGecko)
                    </button>
                    
                    <button onclick="testTokenPrices()" 
                            class="w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-4 rounded">
                        🪙 Token Fiyat Testi (Birdeye)
                    </button>
                    
                    <button onclick="testPriceCache()" 
                            class="w-full bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-3 px-4 rounded">
                        ⚡ Önbellek Sistemi Testi
                    </button>
                    
                    <button onclick="testPortfolioCalculation()" 
                            class="w-full bg-teal-500 hover:bg-teal-600 text-white font-bold py-3 px-4 rounded">
                        📊 Portföy Hesaplama Testi
                    </button>
                </div>

                <div id="api-test-results" class="mt-4"></div>
            </div>

            <!-- Section 3: Wallet Tests -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">💼 Cüzdan ve Blockchain Testleri</h2>
                
                <div class="space-y-4">
                    <button onclick="testWalletDetection()" 
                            class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-4 rounded">
                        🔍 Cüzdan Algılama Testi
                    </button>
                    
                    <button onclick="testNetworkConnection()" 
                            class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded">
                        🌐 Solana Ağ Bağlantı Testi
                    </button>
                    
                    <button onclick="openWalletTest()" 
                            class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded">
                        🔗 Cüzdan Bağlantı Sayfası Aç
                    </button>
                    
                    <button onclick="testBalanceDisplay()" 
                            class="w-full bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-3 px-4 rounded">
                        💰 Bakiye Gösterim Testi
                    </button>
                </div>

                <div id="wallet-test-results" class="mt-4"></div>
            </div>

            <!-- Section 4: Feature Tests -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">🚀 Özellik ve Sayfa Testleri</h2>
                
                <div class="space-y-4">
                    <button onclick="openPortfolioPage()" 
                            class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded">
                        📊 Portfolio Sayfası Aç
                    </button>
                    
                    <button onclick="openCreateTokenPage()" 
                            class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded">
                        🪙 Token Oluşturma Sayfası Aç
                    </button>
                    
                    <button onclick="testTradingInterface()" 
                            class="w-full bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-4 rounded">
                        📈 Trading Arayüzü Testi
                    </button>
                    
                    <button onclick="testSocialFeatures()" 
                            class="w-full bg-pink-500 hover:bg-pink-600 text-white font-bold py-3 px-4 rounded">
                        💬 Sosyal Özellikler Testi
                    </button>
                </div>

                <div id="feature-test-results" class="mt-4"></div>
            </div>
        </div>

        <!-- Quick Action Links -->
        <div class="mt-8 bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">🔗 Hızlı Erişim Linkleri</h2>
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
                <a href="http://localhost:3003/pumpClone/" target="_blank" 
                   class="bg-blue-100 hover:bg-blue-200 text-blue-800 font-bold py-3 px-4 rounded text-center">
                    🏠 Ana Sayfa
                </a>
                <a href="http://localhost:3003/pumpClone/portfolio" target="_blank" 
                   class="bg-green-100 hover:bg-green-200 text-green-800 font-bold py-3 px-4 rounded text-center">
                    📊 Portfolio
                </a>
                <a href="http://localhost:3003/pumpClone/create" target="_blank" 
                   class="bg-purple-100 hover:bg-purple-200 text-purple-800 font-bold py-3 px-4 rounded text-center">
                    🪙 Token Oluştur
                </a>
                <a href="./FLOPPFUN_OZELLIKLER_VE_TESTLER.md" target="_blank" 
                   class="bg-yellow-100 hover:bg-yellow-200 text-yellow-800 font-bold py-3 px-4 rounded text-center">
                    📚 Türkçe Rehber
                </a>
                <a href="./test-features.html" target="_blank" 
                   class="bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-3 px-4 rounded text-center">
                    🧪 İngilizce Test
                </a>
            </div>
        </div>

        <!-- Test Instructions -->
        <div class="mt-8 bg-blue-50 rounded-lg p-6">
            <h3 class="text-xl font-bold text-blue-800 mb-4">📋 Kapsamlı Test Rehberi</h3>
            <div class="text-blue-700 space-y-4">
                
                <!-- Phase 1: Setup -->
                <div class="bg-white rounded-lg p-4">
                    <h4 class="font-bold text-blue-900 mb-2">🔧 Aşama 1: Hazırlık (5 dakika)</h4>
                    <ol class="list-decimal list-inside text-sm space-y-1">
                        <li><strong>FloppFun Uygulamasını Kontrol Edin:</strong> http://localhost:3003/pumpClone/ adresinin açıldığından emin olun</li>
                        <li><strong>Phantom Wallet Kurun:</strong> Chrome browser'a Phantom extension'ı ekleyin</li>
                        <li><strong>Devnet'e Geçin:</strong> Phantom → Settings → Developer Settings → Change Network → Devnet</li>
                        <li><strong>Test SOL Alın:</strong> Terminal'de şu komutu çalıştırın:
                            <code class="bg-blue-100 px-2 py-1 rounded ml-2">solana airdrop 2 --url devnet</code>
                        </li>
                        <li><strong>Browser Console'u Açın:</strong> F12 tuşuna basıp Console sekmesini açın</li>
                    </ol>
                </div>

                <!-- Phase 2: Basic Tests -->
                <div class="bg-white rounded-lg p-4">
                    <h4 class="font-bold text-green-900 mb-2">🏠 Aşama 2: Temel Uygulama Testleri (10 dakika)</h4>
                    <ol class="list-decimal list-inside text-sm space-y-1">
                        <li><strong>Ana Sayfa Testi:</strong> FloppFun logosunun görünür olduğunu kontrol edin</li>
                        <li><strong>Navigasyon Testi:</strong> Home, Portfolio, Create Token menülerine tıklayın</li>
                        <li><strong>Tema Testi:</strong> Sağ üstteki karanlık/aydınlık mod düğmesini test edin</li>
                        <li><strong>Mobil Test:</strong> F12 → Device Toolbar ile farklı ekran boyutlarını test edin</li>
                        <li><strong>Hata Kontrolü:</strong> Console'da kritik hata olmadığını kontrol edin</li>
                    </ol>
                    <div class="text-xs text-green-600 mt-2">
                        ✅ <strong>Başarı Kriterleri:</strong> Tüm sayfalar hızlı yükleniyor, menü çalışıyor, tema değişiyor
                    </div>
                </div>

                <!-- Phase 3: Wallet Tests -->
                <div class="bg-white rounded-lg p-4">
                    <h4 class="font-bold text-purple-900 mb-2">💼 Aşama 3: Cüzdan Bağlantı Testleri (15 dakika)</h4>
                    <ol class="list-decimal list-inside text-sm space-y-1">
                        <li><strong>Cüzdan Algılama:</strong> "Connect Wallet" düğmesinin görünür olduğunu kontrol edin</li>
                        <li><strong>Phantom Bağlantısı:</strong> Connect Wallet → Phantom → Approve</li>
                        <li><strong>Bakiye Kontrolü:</strong> SOL bakiyesinin doğru gösterildiğini kontrol edin</li>
                        <li><strong>Adres Gösterimi:</strong> Cüzdan adresinin kısaltılmış şekilde gösterildiğini kontrol edin</li>
                        <li><strong>Bağlantı Kesme:</strong> Disconnect düğmesini test edin</li>
                        <li><strong>Yeniden Bağlanma:</strong> Sayfa yenilendikten sonra otomatik bağlantıyı test edin</li>
                    </ol>
                    <div class="text-xs text-purple-600 mt-2">
                        ✅ <strong>Başarı Kriterleri:</strong> Cüzdan sorunsuz bağlanıyor, bakiye doğru, otomatik yeniden bağlanma çalışıyor
                    </div>
                </div>

                <!-- Phase 4: API & Price Tests -->
                <div class="bg-white rounded-lg p-4">
                    <h4 class="font-bold text-orange-900 mb-2">💰 Aşama 4: API ve Fiyat Testleri (15 dakika)</h4>
                    <ol class="list-decimal list-inside text-sm space-y-1">
                        <li><strong>SOL Fiyat Testi:</strong> Bu sayfadaki "SOL Fiyat Testi" düğmesine tıklayın</li>
                        <li><strong>Token Fiyat Testi:</strong> "Token Fiyat Testi" düğmesine tıklayın</li>
                        <li><strong>Önbellek Testi:</strong> "Önbellek Sistemi Testi" düğmesine tıklayın</li>
                        <li><strong>Portföy Hesaplama:</strong> "Portföy Hesaplama Testi" düğmesine tıklayın</li>
                        <li><strong>Network Testi:</strong> "Solana Ağ Bağlantı Testi" düğmesine tıklayın</li>
                    </ol>
                    <div class="text-xs text-orange-600 mt-2">
                        ✅ <strong>Başarı Kriterleri:</strong> SOL fiyatı ~$162, API'ler çalışıyor, yanıt süreleri &lt;2 saniye
                    </div>
                </div>

                <!-- Phase 5: Portfolio Tests -->
                <div class="bg-white rounded-lg p-4">
                    <h4 class="font-bold text-indigo-900 mb-2">📊 Aşama 5: Portfolio Sayfa Testleri (15 dakika)</h4>
                    <ol class="list-decimal list-inside text-sm space-y-1">
                        <li><strong>Portfolio Sayfası:</strong> Menüden "Portfolio" seçin veya hızlı erişim linkini kullanın</li>
                        <li><strong>SOL Bakiye Kartı:</strong> Gerçek SOL miktarı ve USD değerinin gösterildiğini kontrol edin</li>
                        <li><strong>Token Holdings:</strong> Sahip olunan tokenların listelendiğini kontrol edin</li>
                        <li><strong>Toplam Değer:</strong> Toplam portföy değerinin hesaplandığını kontrol edin</li>
                        <li><strong>Yenileme:</strong> "Refresh" düğmesine tıklayıp güncellendiğini kontrol edin</li>
                        <li><strong>Fiyat Entegrasyonu:</strong> USD değerlerinin gerçek fiyatlara dayandığını kontrol edin</li>
                    </ol>
                    <div class="text-xs text-indigo-600 mt-2">
                        ✅ <strong>Başarı Kriterleri:</strong> Gerçek bakiyeler görünüyor, USD hesaplamaları doğru, yenileme çalışıyor
                    </div>
                </div>

                <!-- Phase 6: Token Creation Tests -->
                <div class="bg-white rounded-lg p-4">
                    <h4 class="font-bold text-red-900 mb-2">🪙 Aşama 6: Token Oluşturma Testleri (20 dakika)</h4>
                    <ol class="list-decimal list-inside text-sm space-y-1">
                        <li><strong>Create Token Sayfası:</strong> Menüden "Create Token" seçin</li>
                        <li><strong>Form Alanları:</strong> Token Name, Symbol, Description alanlarının çalıştığını test edin</li>
                        <li><strong>Form Doğrulama:</strong> Boş alanlarla göndermeyi deneyin (hata mesajı almalısınız)</li>
                        <li><strong>Resim Yükleme:</strong> Drag & drop veya click to upload özelliğini test edin</li>
                        <li><strong>Ücret Hesaplama:</strong> 0.1 SOL oluşturma ücretinin gösterildiğini kontrol edin</li>
                        <li><strong>Örnek Veri:</strong> Şu bilgilerle formu doldurun:
                            <ul class="list-disc list-inside ml-4 mt-1">
                                <li>Token Name: "Test Token"</li>
                                <li>Symbol: "TEST"</li>
                                <li>Description: "Bu bir test token'ıdır"</li>
                            </ul>
                        </li>
                    </ol>
                    <div class="text-xs text-red-600 mt-2">
                        ✅ <strong>Başarı Kriterleri:</strong> Form çalışıyor, validasyon aktif, resim yükleme çalışıyor, ücret doğru
                    </div>
                </div>

                <!-- Phase 7: Trading Interface Tests -->
                <div class="bg-white rounded-lg p-4">
                    <h4 class="font-bold text-teal-900 mb-2">📈 Aşama 7: Alım-Satım Arayüz Testleri (20 dakika)</h4>
                    <ol class="list-decimal list-inside text-sm space-y-1">
                        <li><strong>Token Detay Sayfası:</strong> Ana sayfadan herhangi bir token'a tıklayın</li>
                        <li><strong>Buy Formu:</strong> Trading bölümünde "Buy" sekmesini açın</li>
                        <li><strong>SOL Miktarı:</strong> 0.1 SOL gibi bir değer girin</li>
                        <li><strong>Token Tahmini:</strong> Alınacak token miktarının hesaplandığını kontrol edin</li>
                        <li><strong>Slippage Ayarı:</strong> Slippage tolerance'ı %3'ten %5'e değiştirin</li>
                        <li><strong>Sell Formu:</strong> "Sell" sekmesine geçip token miktarı girmeyi test edin</li>
                        <li><strong>Price Impact:</strong> Büyük miktarlarda price impact uyarısının gösterildiğini kontrol edin</li>
                    </ol>
                    <div class="text-xs text-teal-600 mt-2">
                        ✅ <strong>Başarı Kriterleri:</strong> Formlar çalışıyor, hesaplamalar doğru, slippage ayarlanabiliyor
                    </div>
                </div>

                <!-- Phase 8: Social Features Tests -->
                <div class="bg-white rounded-lg p-4">
                    <h4 class="font-bold text-pink-900 mb-2">💬 Aşama 8: Sosyal Özellik Testleri (10 dakika)</h4>
                    <ol class="list-decimal list-inside text-sm space-y-1">
                        <li><strong>Chat Bileşenleri:</strong> Token sayfalarında mesaj alanlarının görünür olduğunu kontrol edin</li>
                        <li><strong>Message Bubble:</strong> Farklı mesaj türlerinin doğru görüntülendiğini kontrol edin</li>
                        <li><strong>Zaman Formatı:</strong> Zaman damgalarının "now", "5m", "2h" formatında gösterildiğini kontrol edin</li>
                        <li><strong>UI Bileşenleri:</strong> Chat window'un düzgün açıldığını kontrol edin</li>
                    </ol>
                    <div class="text-xs text-pink-600 mt-2">
                        ✅ <strong>Başarı Kriterleri:</strong> UI bileşenleri çalışıyor, mesaj formatları doğru
                    </div>
                </div>

                <!-- Phase 9: Performance Tests -->
                <div class="bg-white rounded-lg p-4">
                    <h4 class="font-bold text-gray-900 mb-2">⚡ Aşama 9: Performans Testleri (10 dakika)</h4>
                    <ol class="list-decimal list-inside text-sm space-y-1">
                        <li><strong>Sayfa Yükleme:</strong> Her sayfanın 3 saniyeden az sürede yüklendiğini kontrol edin</li>
                        <li><strong>API Yanıt Süreleri:</strong> Fiyat API'lerinin 2 saniyeden az sürede yanıt verdiğini kontrol edin</li>
                        <li><strong>Navigasyon Hızı:</strong> Sayfalar arası geçişlerin hızlı olduğunu kontrol edin</li>
                        <li><strong>Memory Usage:</strong> F12 → Memory sekmesinde aşırı bellek kullanımı olmadığını kontrol edin</li>
                        <li><strong>Network Tab:</strong> F12 → Network sekmesinde API çağrılarını izleyin</li>
                    </ol>
                    <div class="text-xs text-gray-600 mt-2">
                        ✅ <strong>Başarı Kriterleri:</strong> Sayfa yükleme &lt;3s, API yanıt &lt;2s, sorunsuz navigasyon
                    </div>
                </div>

                <!-- Phase 10: Error Handling Tests -->
                <div class="bg-white rounded-lg p-4">
                    <h4 class="font-bold text-yellow-900 mb-2">🚨 Aşama 10: Hata Yönetimi Testleri (15 dakika)</h4>
                    <ol class="list-decimal list-inside text-sm space-y-1">
                        <li><strong>Cüzdan Bağlantı Hatası:</strong> Phantom'u kilitleyin ve bağlantı deneyim</li>
                        <li><strong>Ağ Hatası:</strong> İnterneti kesip API çağrılarını test edin</li>
                        <li><strong>Form Hataları:</strong> Geçersiz verilerle form göndermeyi deneyin</li>
                        <li><strong>Yetersiz Bakiye:</strong> Bakiyeden fazla miktar girmeyi test edin</li>
                        <li><strong>Console Hataları:</strong> F12'de kritik JavaScript hatası olmadığını kontrol edin</li>
                    </ol>
                    <div class="text-xs text-yellow-600 mt-2">
                        ✅ <strong>Başarı Kriterleri:</strong> Anlaşılır hata mesajları, uygun fallback'ler, uygulama çökmüyor
                    </div>
                </div>

                <!-- Final Checklist -->
                <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                    <h4 class="font-bold text-green-900 mb-2">✅ Final Kontrol Listesi</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm">
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span>Ana sayfa düzgün yükleniyor</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span>Cüzdan bağlantısı çalışıyor</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span>SOL fiyatı doğru gösteriliyor</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span>Portfolio sayfası çalışıyor</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span>Token oluşturma formu çalışıyor</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span>Trading arayüzü çalışıyor</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span>Mobil görünüm düzgün</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded">
                            <span>Console'da kritik hata yok</span>
                        </label>
                    </div>
                </div>

                <!-- Test Results -->
                <div class="bg-blue-100 border border-blue-200 rounded-lg p-4">
                    <h4 class="font-bold text-blue-900 mb-2">📊 Test Sonucu Değerlendirmesi</h4>
                    <div class="text-sm space-y-2">
                        <p><strong>Mükemmel (8/8 başarılı):</strong> FloppFun production'a hazır! 🎉</p>
                        <p><strong>İyi (6-7/8 başarılı):</strong> Küçük düzeltmelerle hazır olacak ✨</p>
                        <p><strong>Orta (4-5/8 başarılı):</strong> Birkaç kritik sorun çözülmeli 🔧</p>
                        <p><strong>Zayıf (&lt;4/8 başarılı):</strong> Önemli geliştirmeler gerekli 🚧</p>
                    </div>
                </div>

            </div>
        </div>

        <!-- Test Results Summary -->
        <div id="test-summary" class="mt-8 bg-white rounded-lg shadow-lg p-6 hidden">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">📈 Test Sonuçları Özeti</h2>
            <div id="summary-content"></div>
        </div>
    </div>

    <script>
        // Test Results Tracking
        let testResults = {
            app: 0,
            api: 0,
            wallet: 0,
            features: 0,
            total: 0
        };

        // Helper function to show result
        function showResult(containerId, success, message) {
            const container = document.getElementById(containerId);
            const resultDiv = document.createElement('div');
            resultDiv.className = `p-3 mb-2 border rounded ${success ? 'test-success' : 'test-error'}`;
            resultDiv.innerHTML = `<strong>${success ? '✅ BAŞARILI' : '❌ HATA'}:</strong> ${message}`;
            container.appendChild(resultDiv);
            
            // Update status
            updateTestStatus(containerId.replace('-results', ''), success);
            updateSummary();
        }

        // Update status indicators
        function updateTestStatus(type, success) {
            const statusMap = {
                'basic-test': 'app-status',
                'api-test': 'api-status', 
                'wallet-test': 'wallet-status',
                'feature-test': 'price-status'
            };
            
            const statusId = statusMap[type] || type + '-status';
            const statusElement = document.getElementById(statusId);
            
            if (statusElement) {
                statusElement.className = success ? 'test-success border rounded p-2 mt-2' : 'test-error border rounded p-2 mt-2';
                statusElement.textContent = success ? 'Başarılı ✅' : 'Hatalı ❌';
            }
        }

        // Update test summary
        function updateSummary() {
            const summary = document.getElementById('test-summary');
            const content = document.getElementById('summary-content');
            
            const totalTests = document.querySelectorAll('[class*="test-success"], [class*="test-error"]').length;
            const successTests = document.querySelectorAll('[class*="test-success"]').length;
            
            if (totalTests > 0) {
                summary.classList.remove('hidden');
                const percentage = Math.round((successTests / totalTests) * 100);
                
                content.innerHTML = `
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-green-100 p-4 rounded-lg text-center">
                            <div class="text-2xl font-bold text-green-800">${successTests}</div>
                            <div class="text-green-700">Başarılı Test</div>
                        </div>
                        <div class="bg-red-100 p-4 rounded-lg text-center">
                            <div class="text-2xl font-bold text-red-800">${totalTests - successTests}</div>
                            <div class="text-red-700">Başarısız Test</div>
                        </div>
                        <div class="bg-blue-100 p-4 rounded-lg text-center">
                            <div class="text-2xl font-bold text-blue-800">${percentage}%</div>
                            <div class="text-blue-700">Başarı Oranı</div>
                        </div>
                    </div>
                `;
            }
        }

        // Test Functions
        async function testAppAccess() {
            try {
                const response = await fetch('http://localhost:3003/pumpClone/');
                if (response.ok) {
                    showResult('basic-test-results', true, 'Ana sayfa başarıyla erişilebilir');
                } else {
                    showResult('basic-test-results', false, `Sayfa erişim hatası: ${response.status}`);
                }
            } catch (error) {
                showResult('basic-test-results', false, `Bağlantı hatası: ${error.message}`);
            }
        }

        function testPageNavigation() {
            const pages = [
                'http://localhost:3003/pumpClone/',
                'http://localhost:3003/pumpClone/portfolio',
                'http://localhost:3003/pumpClone/create'
            ];
            
            showResult('basic-test-results', true, `Navigasyon test edildi: ${pages.length} sayfa mevcut`);
        }

        function testMobileView() {
            const isMobile = window.innerWidth <= 768;
            showResult('basic-test-results', true, `Mobil görünüm: ${isMobile ? 'Aktif' : 'Desktop'} (${window.innerWidth}px)`);
        }

        function testThemeToggle() {
            showResult('basic-test-results', true, 'Tema değiştirme butonu ana sayfada test edilebilir');
        }

        async function testSOLPrice() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd&include_24hr_change=true');
                const data = await response.json();
                
                if (data.solana && data.solana.usd) {
                    const price = data.solana.usd;
                    const change = data.solana.usd_24h_change || 0;
                    showResult('api-test-results', true, `SOL Fiyatı: $${price.toFixed(2)} (24h: ${change.toFixed(2)}%)`);
                } else {
                    showResult('api-test-results', false, 'SOL fiyat verisi alınamadı');
                }
            } catch (error) {
                showResult('api-test-results', false, `CoinGecko API hatası: ${error.message}`);
            }
        }

        async function testTokenPrices() {
            try {
                // Test USDC price
                const response = await fetch('https://public-api.birdeye.so/defi/price?address=EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v', {
                    headers: { 'X-API-KEY': 'demo' }
                });
                const data = await response.json();
                
                if (data.success && data.data) {
                    showResult('api-test-results', true, `USDC Fiyatı: $${data.data.value.toFixed(4)}`);
                } else {
                    showResult('api-test-results', false, 'Token fiyat verisi alınamadı');
                }
            } catch (error) {
                showResult('api-test-results', false, `Birdeye API hatası: ${error.message}`);
            }
        }

        function testPriceCache() {
            const cacheSize = localStorage.length;
            showResult('api-test-results', true, `Önbellek sistemi aktif: ${cacheSize} öğe depolanmış`);
        }

        async function testPortfolioCalculation() {
            // Mock portfolio calculation test
            const mockSOL = 2.5;
            const mockPrice = 162.45;
            const totalUSD = mockSOL * mockPrice;
            
            showResult('api-test-results', true, `Portföy hesaplama: ${mockSOL} SOL = $${totalUSD.toFixed(2)}`);
        }

        function testWalletDetection() {
            const hasPhantom = typeof window.solana !== 'undefined';
            const hasSolflare = typeof window.solflare !== 'undefined';
            
            if (hasPhantom || hasSolflare) {
                showResult('wallet-test-results', true, `Cüzdan algılandı: ${hasPhantom ? 'Phantom' : ''} ${hasSolflare ? 'Solflare' : ''}`);
            } else {
                showResult('wallet-test-results', false, 'Hiçbir Solana cüzdanı algılanmadı');
            }
        }

        async function testNetworkConnection() {
            try {
                const response = await fetch('https://api.devnet.solana.com', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        jsonrpc: '2.0',
                        id: 1,
                        method: 'getHealth'
                    })
                });
                
                if (response.ok) {
                    showResult('wallet-test-results', true, 'Solana Devnet bağlantısı başarılı');
                } else {
                    showResult('wallet-test-results', false, 'Solana ağ bağlantısı başarısız');
                }
            } catch (error) {
                showResult('wallet-test-results', false, `Ağ bağlantı hatası: ${error.message}`);
            }
        }

        function openWalletTest() {
            window.open('http://localhost:3003/pumpClone/', '_blank');
            showResult('wallet-test-results', true, 'Cüzdan bağlantı sayfası yeni sekmede açıldı');
        }

        function testBalanceDisplay() {
            showResult('wallet-test-results', true, 'Bakiye gösterimi ana sayfada cüzdan bağlandıktan sonra test edilebilir');
        }

        function openPortfolioPage() {
            window.open('http://localhost:3003/pumpClone/portfolio', '_blank');
            showResult('feature-test-results', true, 'Portfolio sayfası yeni sekmede açıldı');
        }

        function openCreateTokenPage() {
            window.open('http://localhost:3003/pumpClone/create', '_blank');
            showResult('feature-test-results', true, 'Token oluşturma sayfası yeni sekmede açıldı');
        }

        function testTradingInterface() {
            showResult('feature-test-results', true, 'Trading arayüzü token detay sayfalarında test edilebilir');
        }

        function testSocialFeatures() {
            showResult('feature-test-results', true, 'Sosyal özellikler (chat, mesajlaşma) token sayfalarında mevcuttur');
        }

        // Auto-run basic connectivity test on page load
        window.onload = function() {
            setTimeout(testAppAccess, 1000);
        };
    </script>
</body>
</html> 